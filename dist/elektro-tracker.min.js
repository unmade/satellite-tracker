"use strict";var TRACKER=TRACKER||{};TRACKER.namespace=function(R){var e,n=R.split("."),t=TRACKER;for("TRACKER"===n[0]&&(n=n.slice(1)),e=0;e<n.length;e+=1)"undefined"==typeof t[n[e]]&&(t[n[e]]={}),t=t[n[e]];return t};
"use strict";TRACKER.namespace("earth"),TRACKER.earth=function(){var e={Kr:.0025,Km:.001,ESun:20,g:-.95,innerRadius:100,outerRadius:101.5,wavelength:[.55,.5,.475],scaleDepth:.25,mieScaleDepth:.1},a=new THREE.TextureLoader,t=a.load("/src/images/earth/diffuse-low.jpg"),r=a.load("/src/images/earth/diffuse-night-low.jpg"),u=a.load("/src/images/earth/diffuse-specular-low.png"),l={v3LightPosition:{type:"v3",value:new THREE.Vector3(1e8,0,1e8).normalize()},v3InvWavelength:{type:"v3",value:new THREE.Vector3(1/Math.pow(e.wavelength[0],4),1/Math.pow(e.wavelength[1],4),1/Math.pow(e.wavelength[2],4))},fCameraHeight:{type:"f",value:0},fCameraHeight2:{type:"f",value:0},fInnerRadius:{type:"f",value:e.innerRadius},fInnerRadius2:{type:"f",value:e.innerRadius*e.innerRadius},fOuterRadius:{type:"f",value:e.outerRadius},fOuterRadius2:{type:"f",value:e.outerRadius*e.outerRadius},fKrESun:{type:"f",value:e.Kr*e.ESun},fKmESun:{type:"f",value:e.Km*e.ESun},fKr4PI:{type:"f",value:4*e.Kr*Math.PI},fKm4PI:{type:"f",value:4*e.Km*Math.PI},fScale:{type:"f",value:1/(e.outerRadius-e.innerRadius)},fScaleDepth:{type:"f",value:e.scaleDepth},fScaleOverScaleDepth:{type:"f",value:1/(e.outerRadius-e.innerRadius)/e.scaleDepth},g:{type:"f",value:e.g},g2:{type:"f",value:e.g*e.g},nSamples:{type:"i",value:3},fSamples:{type:"f",value:3},tDiffuse:{type:"t",value:t},tDiffuseNight:{type:"t",value:r},tDiffuseSpecular:{type:"t",value:u},tDisplacement:{type:"t",value:0},tSkyboxDiffuse:{type:"t",value:0},fNightScale:{type:"f",value:1},fSpecularScale:{type:"f",value:1},fSpecularSize:{type:"f",value:25}},i={geometry:new THREE.SphereGeometry(e.innerRadius,50,50),material:new THREE.ShaderMaterial({uniforms:l,vertexShader:$("#vertexGround").text(),fragmentShader:$("#fragmentGround").text()})};i.mesh=new THREE.Mesh(i.geometry,i.material);var n={geometry:new THREE.SphereGeometry(e.outerRadius,500,500),material:new THREE.ShaderMaterial({uniforms:l,vertexShader:$("#vertexSky").text(),fragmentShader:$("#fragmentSky").text()})};return n.mesh=new THREE.Mesh(n.geometry,n.material),n.material.side=THREE.BackSide,n.material.transparent=!0,{ground:i,sky:n}}();
"use strict";$(document).ready(function(){function e(){u.update(),requestAnimationFrame(e);var n=l.position.length();return t.sky.material.uniforms.fCameraHeight.value=n,t.sky.material.uniforms.fCameraHeight2.value=n*n,t.ground.material.uniforms.fCameraHeight.value=n,t.ground.material.uniforms.fCameraHeight2.value=n*n,m.render(s,l)}function n(){l.aspect=window.innerWidth/window.innerHeight,l.updateProjectionMatrix(),m.setSize(window.innerWidth,window.innerHeight)}var i=document.getElementById("scene"),a=window.innerWidth,r=window.innerHeight,t=TRACKER.earth,d=TRACKER.sun,o=TRACKER.milkyway,s=new THREE.Scene;s.add(t.ground.mesh),s.add(t.sky.mesh),s.add(d.lensFlare),s.add(o.milkyway);var l=new THREE.PerspectiveCamera(90,a/r,1,1e5);l.position.set(5600,5300,500),l.up=new THREE.Vector3(0,0,1);var m=new THREE.WebGLRenderer({antialias:!0,alpha:!0});m.setPixelRatio(window.devicePixelRatio||1),m.setSize(a,r),m.setClearColor(0,1),i.appendChild(m.domElement);var u=new THREE.TrackballControls(l);e();window.addEventListener("resize",n,!1)});
"use strict";TRACKER.namespace("milkyway"),TRACKER.milkyway=function(){var e=new THREE.Mesh(new THREE.SphereGeometry(1e4,64,64),new THREE.MeshBasicMaterial({map:THREE.ImageUtils.loadTexture("/src/images/milkyway/milkyway.jpg"),side:THREE.BackSide,opacity:.1}));return{milkyway:e}}();
"use strict";TRACKER.namespace("sun"),TRACKER.sun=function(){function e(e,a,o,r,E,c){s=new THREE.PointLight(16777215,1.5,2e3),s.color.setHSL(e,a,o),s.position.set(r,E,c);var g=new THREE.Color(16777215);g.setHSL(e,a,o+.5),i=new THREE.LensFlare(l,350,0,THREE.AdditiveBlending,g),i.add(d,512,0,THREE.AdditiveBlending),i.add(t,60,.6,THREE.AdditiveBlending),i.add(t,70,.7,THREE.AdditiveBlending),i.add(t,120,.9,THREE.AdditiveBlending),i.add(t,70,1,THREE.AdditiveBlending),i.customUpdateCallback=n,i.position.set(r,E,c)}function n(e){var n,i,s=e.lensFlares.length,a=2*-e.positionScreen.x,l=2*-e.positionScreen.y;for(n=0;s>n;n++)i=e.lensFlares[n],i.x=e.positionScreen.x+a*i.distance,i.y=e.positionScreen.y+l*i.distance,i.rotation=0;e.lensFlares[2].y+=.025,e.lensFlares[3].rotation=.5*e.positionScreen.x+THREE.Math.degToRad(45)}var i,s,a=new THREE.TextureLoader,l=a.load("/src/images/lensflare/lensflare0.png"),d=a.load("/src/images/lensflare/lensflare2.png"),t=a.load("/src/images/lensflare/lensflare3.png");return e(.55,.9,.5,5e3,0,5e3),{light:s,lensFlare:i}}();
//# sourceMappingURL=elektro-tracker.min.js.map
